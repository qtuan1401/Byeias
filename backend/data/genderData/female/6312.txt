LONDON  —   In a surprise upset, a candidate of the centrist and   Liberal Democrats defeated a prominent supporter of British withdrawal from the European Union in a parliamentary   on Thursday. The victory, by Sarah Olney, delivered a badly needed lift to the Liberal Democrats, who were in danger of becoming extinct after disastrous losses in last year’s national elections, and it highlighted some of the deep divisions in Britain over its looming departure from the European Union, commonly referred to as Brexit. In the election in the Richmond Park and North Kingston constituency in southwest London, Ms. Olney had 20, 510 votes, to 18, 638 for Zac Goldsmith, according to results announced early Friday. Mr. Goldsmith won the same seat for the governing Conservative Party only last year, and by more than 23, 000 votes. He resigned from Parliament in protest over government plans to expand Heathrow Airport  —   a project that is unpopular locally. In the latest contest, Mr. Goldsmith stood as an independent but was not opposed by the Tories, who did not field a candidate. Ms. Olney, who also opposed the expansion of Heathrow, campaigned on the issue of Europe, in an affluent constituency where a large majority voted in the June 23 Brexit referendum to remain in the bloc. That move appeared to have paid dividends, helping Ms. Olney achieve one of the most striking   triumphs of recent years. “Today we have said ‘no’,” Ms. Olney said in her victory speech after the result was declared, “We will defend the Britain we love we will stand up for the open, tolerant, united, Britain we believe in. ” “The people of Richmond Park and North Kingston have sent a shock wave through this Conservative Brexit government, and our message is clear: We do not want a hard Brexit,” she added, making a reference to the clean break with the European Union desired by some   supporters of Britain’s withdrawal from the European Union. Ms. Olney’s campaign probably benefited from several days of headlines suggesting that the government of Prime Minister Theresa May has so far failed to develop a coherent Brexit strategy. Other factors may have contributed, too. Though known locally as an assiduous member of Parliament, Mr. Goldsmith attracted criticism during his campaign for mayor of London earlier this year when he accused his Labour Party rival, Sadiq Khan, of having given tacit support to extremists in the past. That tactic apparently backfired Mr. Khan won the election and became London’s first Muslim mayor. Nevertheless, Europe seems to have been a key factor in Richmond Park and North Kingston, following the Brexit referendum in which Britons voted by 52 percent to 48 percent to quit the bloc. Not only was Mr. Goldsmith a supporter of Brexit, but his father, the financier Sir James Goldsmith, was a prominent critic of the European Union in the 1990s. Zac Goldsmith’s defeat gives only a snapshot of current opinion, however, and took place in one of the most   parts of country. So far there is little evidence that Brexit supporters are changing their minds in significant numbers. Still, this win will encourage the Liberal Democrats who before last year’s electoral rout had spent several years as junior partners in a coalition government led by the Conservative prime minister, David Cameron. Mr. Cameron resigned after the Brexit vote, then gave up his parliamentary seat in Witney. In the contest to succeed him in October, the Conservatives held Witney, but with a majority reduced by more than 20, 000 votes. The Liberal Democrats finishing second. The Labour Party, the main opposition party, campaigned to remain in the European Union, but its leader, Jeremy Corbyn, is a lifelong critic of the bloc.   class voters, who have often supported Labour, voted for Brexit. That has allowed the Liberal Democrats to present themselves as the voice of the 48 percent who wished to remain in union.