A week of shocking violence in the United States took a bloodier turn on Thursday night, when five police officers were shot and killed by a sniper in Dallas. The attack came during a peaceful demonstration against the widely publicized police shootings of black men in Louisiana and Minnesota earlier in the week. • Shots were fired around 9. p. m. on Thursday as hundreds of demonstrators were peacefully marching west on Main Street in downtown Dallas. Scores could be seen fleeing and screaming as police officers, who were on the scene to maintain order, took cover and returned fire. • Five police officers were killed, seven other officers were shot and two civilians were wounded. A lawyer for five of the wounded officers said they were expected to recover. • A senior law enforcement official identified the gunman as Micah Johnson, 25, an Army veteran who lived in the Dallas area. The police killed him using a   bomb during a standoff early on Friday. • The city’s police chief, David O. Brown, originally described the shooting as a coordinated attack by two snipers. On Friday, the secretary of Homeland Security, Jeh C. Johnson, said that there had been only one gunman and that he had no known links to international terrorist organizations. • Three other people are in custody, but their identities and connections to the attack are unknown. • Before Mr. Johnson was identified, Chief Brown said the suspect was upset about the recent police shootings and “wanted to kill white people, especially white officers. ” • Some downtown locations that were part of the crime scene will remain closed to the public until Wednesday. • President Obama, speaking in Warsaw, called the shootings a “vicious, calculated and despicable attack on law enforcement. ” He will visit Dallas early next week at the invitation of Mayor Mike Rawlings, the White House said. • The shootings occurred just a few blocks from where President John F. Kennedy was assassinated in 1963, and they appear to be the deadliest attack for American law enforcement officers since Sept. 11, 2001. • Streets downtown were mostly quiet as the authorities began their second day of investigation on Saturday. A night earlier, demonstrators gathered in cities around the country for   protests. • On Wednesday evening, a police officer fatally shot a black man, Philando Castile, 32, during a traffic stop in Falcon Heights, Minn. a suburb of St. Paul, the state capital. The aftermath was streamed on Facebook Live by Mr. Castile’s girlfriend, Diamond Reynolds, a passenger in the car, along with her young daughter. • St. Paul has been convulsed by protests. Demonstrators gathered around the home of Gov. Mark Dayton, who said he was shaken by the video. “Would this have happened if the driver were white, if the passengers were white?” he asked. “I don’t think it would have. ” • Mr. Obama, after arriving in Warsaw for a NATO summit meeting, told reporters, “There’s a big chunk of our citizenry that feels as if, because of the color of their skin, they are not being treated the same, and that hurts, and that should trouble all of us. ” That was before the demonstration  —   and the killings of police officers  —   in Dallas. • Mr. Castile had notified the police officer that he had a gun on him, and was a licensed gun owner. Whether this information played a role in the shooting is not clear. Mr. Castile’s girlfriend said he was trying to retrieve his license and registration when the officer opened fire. • On Tuesday morning, two police officers fatally shot a black man, Alton B. Sterling, 37, in Baton Rouge, the capital of Louisiana, while trying to arrest him. The shooting was captured on video that drew widespread attention after it was released online on Wednesday. • The Justice Department opened a civil rights investigation into the shooting, the latest in a series of killings of civilians that have fueled the Black Lives Matter movement. • There have been protests and a vigil, but the city has otherwise remained calm. • Mr. Sterling had a long criminal history, but it is not clear whether the officers knew that when they tried to arrest him.